use kube::CustomResource;
use schemars::JsonSchema;
use serde::{Deserialize, Serialize};

#[derive(Debug, Default, Clone, Deserialize, Serialize, JsonSchema, CustomResource)]
#[kube(
    group = "{{ group_name }}",
    version = "{{ api_version }}",
    kind = "{{ type_name }}",
    plural = "{{ tag_name }}",
    status = "{{ type_name }}Status",
    namespaced
)]
pub struct {{ type_name }}Spec {
    {%- for field in fields %}
    pub {{ field.pub_name }}: {{ field.field_type|safe }},
    {%- endfor %}
}

#[derive(Debug, Default, Clone, Deserialize, Serialize, JsonSchema)]
pub struct {{ type_name }}Status {
    pub {{ reference_id }}: Option<String>,
}
